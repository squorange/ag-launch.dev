function essb_flyin_onscroll(){if(!flyinTriggeredOnScroll){var e=jQuery(window).scrollTop(),t=jQuery(document).height()-jQuery(window).height(),s=e/t*100;s>flyinTriggerPercent&&flyinTriggerPercent>0&&(flyinTriggeredOnScroll=!0,essb_flyin_show())}}function essb_flyin_show(){var e=jQuery("#essb_settings_flyin_user_notshow_onclose").val(),t=jQuery("#essb_settings_flyin_user_notshow_onclose_id").val();if("true"==e){var s=essbFlyInGetCookie("essb_flyin_"+t);if("yes"==s)return;essbFlyInSetCookie("essb_flyin_"+t,"yes",7)}var i=jQuery(window).width(),n=(jQuery("document").height(),400),o=jQuery("#essb_settings_flyin_width").val();Number(o)&&Number(o)>0&&(n=o),n>i&&(n=i-60);var r=jQuery(".essb_displayed_flyin").html(),a=jQuery("#essb_settings_flyin_title").val(),l=jQuery("#essb_settings_flyin_message").val(),_=jQuery("#essb_settings_flyin_close").val(),u=jQuery("#essb_settings_flyin_template").val();""!=l&&(l='<div class="essb_flyin_content_message">'+l+"</div>");var c=jQuery("#essb_settings_flyin_user_close").val();if(""==c&&(c="CLOSE"),""!=r){r='<div class="essb_flyin"><h3>'+a+'</h3><a href="#" class="essb_flyin_close"  onclick="essb_flyin_close(); return false;"></a><div class="essb_flyin_content">'+l+'<div class="essb_links essb_popup_counters essb_template_'+u+'">'+r+'</div><div class="essb_flyin_counter"><div class="essb_flyin_counter_text"></div></div></div></div>',jQuery("body").append(r),jQuery(".essb_flyin").css({width:n+"px"}),""!=_&&Number(_)&&(shortly=new Date,shortly.setSeconds(shortly.getSeconds()+Number(_)),jQuery(".essb_flyin_counter_text").countdown({until:shortly,onExpiry:essb_flyin_close,onTick:watchCountdown}));var p=jQuery("#essb_settings_flyin_counters").val();p&&"undefined"!=typeof p&&"yes"==p&&(jQuery(".essb_links.essb_popup_counters").essb_get_counters(),jQuery(".essb_popup_counters .essb_links_list").essb_update_counters())}}function essb_flyin_close(){jQuery(".essb_flyin").css({display:"none"})}function watchCountdown(e){var t=jQuery("#essb_settings_flyin_user_autoclose").val();""==t&&(t="Flyin will automatically close in "),jQuery(".essb_flyin_counter_text").text(t+e[6]+" sec")}function essbFlyInSetCookie(e,t,s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var n="expires="+i.toGMTString();document.cookie=e+"="+t+"; "+n}function essbFlyInGetCookie(e){for(var t=e+"=",s=document.cookie.split(";"),i=0;i<s.length;i++){var n=s[i].trim();if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}var flyinTriggeredOnScroll=!1,flyinTriggerPercent=-1;jQuery(document).ready(function(e){var t=e("#essb_settings_flyin_popafter").val(),s=e("#essb_settings_flyin_user_manual_show").val(),i=e("#essb_settings_flyin_user_percent").val();return""!=i?(flyinTriggerPercent=Number(i),flyinTriggeredOnScroll=!1,void e(window).scroll(essb_flyin_onscroll)):void("true"!=s&&(t&&"undefined"!=typeof t&&""!=t&&Number(t)?(shortly1=new Date,shortly1.setSeconds(shortly1.getSeconds()+Number(t)),e("#essb_settings_popafter_counter").countdown({until:shortly1,onExpiry:essb_flyin_show})):essb_flyin_show()))}),function(e){function t(){function t(e){var r=1e12>e?i?performance.now()+performance.timing.navigationStart:s():e||s();r-o>=1e3&&(c._updateTargets(),o=r),n(t)}this.regional=[],this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1},this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},e.extend(this._defaults,this.regional[""]),this._serverSyncs=[];var s="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},i=window.performance&&"function"==typeof window.performance.now,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,o=0;!n||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,setInterval(function(){c._updateTargets()},980)):(o=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||s(),n(t))}function s(t,s){return"option"==t&&(0==s.length||1==s.length&&"string"==typeof s[0])?!0:e.inArray(t,u)>-1}var i=0,n=1,o=2,r=3,a=4,l=5,_=6;e.extend(t.prototype,{markerClassName:"hasCountdown1",propertyName:"countdown",_rtlClass:"countdown_rtl",_sectionClass:"countdown_section",_amountClass:"countdown_amount",_rowClass:"countdown_row",_holdingClass:"countdown_holding",_showClass:"countdown_show",_descrClass:"countdown_descr",_timerTargets:[],setDefaults:function(t){this._resetExtraLabels(this._defaults,t),e.extend(this._defaults,t||{})},UTCDate:function(e,t,s,i,n,o,r,a){"object"==typeof t&&t.constructor==Date&&(a=t.getMilliseconds(),r=t.getSeconds(),o=t.getMinutes(),n=t.getHours(),i=t.getDate(),s=t.getMonth(),t=t.getFullYear());var l=new Date;return l.setUTCFullYear(t),l.setUTCDate(1),l.setUTCMonth(s||0),l.setUTCDate(i||1),l.setUTCHours(n||0),l.setUTCMinutes((o||0)-(Math.abs(e)<30?60*e:e)),l.setUTCSeconds(r||0),l.setUTCMilliseconds(a||0),l},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},_attachPlugin:function(t,s){if(t=e(t),!t.hasClass(this.markerClassName)){var i={options:e.extend({},this._defaults),_periods:[0,0,0,0,0,0,0]};t.addClass(this.markerClassName).data(this.propertyName,i),this._optionPlugin(t,s)}},_addTarget:function(e){this._hasTarget(e)||this._timerTargets.push(e)},_hasTarget:function(t){return e.inArray(t,this._timerTargets)>-1},_removeTarget:function(t){this._timerTargets=e.map(this._timerTargets,function(e){return e==t?null:e})},_updateTargets:function(){for(var e=this._timerTargets.length-1;e>=0;e--)this._updateCountdown(this._timerTargets[e])},_optionPlugin:function(t,s,i){t=e(t);var n=t.data(this.propertyName);if(!s||"string"==typeof s&&null==i){var o=s;return s=(n||{}).options,s&&o?s[o]:s}if(t.hasClass(this.markerClassName)){if(s=s||{},"string"==typeof s){var o=s;s={},s[o]=i}s.layout&&(s.layout=s.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(n.options,s);var r=n.options.timezone!=s.timezone;e.extend(n.options,s),this._adjustSettings(t,n,null!=s.until||null!=s.since||r);var a=new Date;(n._since&&n._since<a||n._until&&n._until>a)&&this._addTarget(t[0]),this._updateCountdown(t,n)}},_updateCountdown:function(t,s){var i=e(t);if(s=s||i.data(this.propertyName)){if(i.html(this._generateHTML(s)).toggleClass(this._rtlClass,s.options.isRTL),e.isFunction(s.options.onTick)){var n="lap"!=s._hold?s._periods:this._calculatePeriods(s,s._show,s.options.significant,new Date);(1==s.options.tickInterval||this.periodsToSeconds(n)%s.options.tickInterval==0)&&s.options.onTick.apply(t,[n])}var o="pause"!=s._hold&&(s._since?s._now.getTime()<s._since.getTime():s._now.getTime()>=s._until.getTime());if(o&&!s._expiring){if(s._expiring=!0,this._hasTarget(t)||s.options.alwaysExpire){if(this._removeTarget(t),e.isFunction(s.options.onExpiry)&&s.options.onExpiry.apply(t,[]),s.options.expiryText){var r=s.options.layout;s.options.layout=s.options.expiryText,this._updateCountdown(t,s),s.options.layout=r}s.options.expiryUrl&&(window.location=s.options.expiryUrl)}s._expiring=!1}else"pause"==s._hold&&this._removeTarget(t);i.data(this.propertyName,s)}},_resetExtraLabels:function(e,t){var s=!1;for(var i in t)if("whichLabels"!=i&&i.match(/[Ll]abels/)){s=!0;break}if(s)for(var i in e)i.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[i]=null)},_adjustSettings:function(t,s,i){for(var n,o=0,r=null,a=0;a<this._serverSyncs.length;a++)if(this._serverSyncs[a][0]==s.options.serverSync){r=this._serverSyncs[a][1];break}if(null!=r)o=s.options.serverSync?r:0,n=new Date;else{var l=e.isFunction(s.options.serverSync)?s.options.serverSync.apply(t,[]):null;n=new Date,o=l?n.getTime()-l.getTime():0,this._serverSyncs.push([s.options.serverSync,o])}var _=s.options.timezone;_=null==_?-n.getTimezoneOffset():_,(i||!i&&null==s._until&&null==s._since)&&(s._since=s.options.since,null!=s._since&&(s._since=this.UTCDate(_,this._determineTime(s._since,null)),s._since&&o&&s._since.setMilliseconds(s._since.getMilliseconds()+o)),s._until=this.UTCDate(_,this._determineTime(s.options.until,n)),o&&s._until.setMilliseconds(s._until.getMilliseconds()+o)),s._show=this._determineShow(s)},_destroyPlugin:function(t){t=e(t),t.hasClass(this.markerClassName)&&(this._removeTarget(t[0]),t.removeClass(this.markerClassName).empty().removeData(this.propertyName))},_pausePlugin:function(e){this._hold(e,"pause")},_lapPlugin:function(e){this._hold(e,"lap")},_resumePlugin:function(e){this._hold(e,null)},_hold:function(t,s){var i=e.data(t,this.propertyName);if(i){if("pause"==i._hold&&!s){i._periods=i._savePeriods;var n=i._since?"-":"+";i[i._since?"_since":"_until"]=this._determineTime(n+i._periods[0]+"y"+n+i._periods[1]+"o"+n+i._periods[2]+"w"+n+i._periods[3]+"d"+n+i._periods[4]+"h"+n+i._periods[5]+"m"+n+i._periods[6]+"s"),this._addTarget(t)}i._hold=s,i._savePeriods="pause"==s?i._periods:null,e.data(t,this.propertyName,i),this._updateCountdown(t,i)}},_getTimesPlugin:function(t){var s=e.data(t,this.propertyName);return s?"pause"==s._hold?s._savePeriods:s._hold?this._calculatePeriods(s,s._show,s.options.significant,new Date):s._periods:null},_determineTime:function(e,t){var s=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t},i=function(e){e=e.toLowerCase();for(var t=new Date,s=t.getFullYear(),i=t.getMonth(),n=t.getDate(),o=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),l=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,_=l.exec(e);_;){switch(_[2]||"s"){case"s":a+=parseInt(_[1],10);break;case"m":r+=parseInt(_[1],10);break;case"h":o+=parseInt(_[1],10);break;case"d":n+=parseInt(_[1],10);break;case"w":n+=7*parseInt(_[1],10);break;case"o":i+=parseInt(_[1],10),n=Math.min(n,c._getDaysInMonth(s,i));break;case"y":s+=parseInt(_[1],10),n=Math.min(n,c._getDaysInMonth(s,i))}_=l.exec(e)}return new Date(s,i,n,o,r,a,0)},n=null==e?t:"string"==typeof e?i(e):"number"==typeof e?s(e):e;return n&&n.setMilliseconds(0),n},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(t){var s=this;t._periods=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);for(var u=!1,p=0,d=t.options.significant,h=e.extend({},t._show),g=i;_>=g;g++)u|="?"==t._show[g]&&t._periods[g]>0,h[g]="?"!=t._show[g]||u?t._show[g]:null,p+=h[g]?1:0,d-=t._periods[g]>0?1:0;for(var m=[!1,!1,!1,!1,!1,!1,!1],g=_;g>=i;g--)t._show[g]&&(t._periods[g]?m[g]=!0:(m[g]=d>0,d--));var f=t.options.compact?t.options.compactLabels:t.options.labels,y=t.options.whichLabels||this._normalLabels,w=function(e){var i=t.options["compactLabels"+y(t._periods[e])];return h[e]?s._translateDigits(t,t._periods[e])+(i?i[e]:f[e])+" ":""},v=function(e){var i=t.options["labels"+y(t._periods[e])];return!t.options.significant&&h[e]||t.options.significant&&m[e]?'<span class="'+c._sectionClass+'"><span class="'+c._amountClass+'">'+s._translateDigits(t,t._periods[e])+"</span><br/>"+(i?i[e]:f[e])+"</span>":""};return t.options.layout?this._buildLayout(t,h,t.options.layout,t.options.compact,t.options.significant,m):(t.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(t._hold?" "+this._holdingClass:"")+'">'+w(i)+w(n)+w(o)+w(r)+(h[a]?this._minDigits(t,t._periods[a],2):"")+(h[l]?(h[a]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[l],2):"")+(h[_]?(h[a]||h[l]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[_],2):""):'<span class="'+this._rowClass+" "+this._showClass+(t.options.significant||p)+(t._hold?" "+this._holdingClass:"")+'">'+v(i)+v(n)+v(o)+v(r)+v(a)+v(l)+v(_))+"</span>"+(t.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+t.options.description+"</span>":"")},_buildLayout:function(t,s,u,c,p,d){for(var h=t.options[c?"compactLabels":"labels"],g=t.options.whichLabels||this._normalLabels,m=function(e){return(t.options[(c?"compactLabels":"labels")+g(t._periods[e])]||h)[e]},f=function(e,s){return t.options.digits[Math.floor(e/s)%10]},y={desc:t.options.description,sep:t.options.timeSeparator,yl:m(i),yn:this._minDigits(t,t._periods[i],1),ynn:this._minDigits(t,t._periods[i],2),ynnn:this._minDigits(t,t._periods[i],3),y1:f(t._periods[i],1),y10:f(t._periods[i],10),y100:f(t._periods[i],100),y1000:f(t._periods[i],1e3),ol:m(n),on:this._minDigits(t,t._periods[n],1),onn:this._minDigits(t,t._periods[n],2),onnn:this._minDigits(t,t._periods[n],3),o1:f(t._periods[n],1),o10:f(t._periods[n],10),o100:f(t._periods[n],100),o1000:f(t._periods[n],1e3),wl:m(o),wn:this._minDigits(t,t._periods[o],1),wnn:this._minDigits(t,t._periods[o],2),wnnn:this._minDigits(t,t._periods[o],3),w1:f(t._periods[o],1),w10:f(t._periods[o],10),w100:f(t._periods[o],100),w1000:f(t._periods[o],1e3),dl:m(r),dn:this._minDigits(t,t._periods[r],1),dnn:this._minDigits(t,t._periods[r],2),dnnn:this._minDigits(t,t._periods[r],3),d1:f(t._periods[r],1),d10:f(t._periods[r],10),d100:f(t._periods[r],100),d1000:f(t._periods[r],1e3),hl:m(a),hn:this._minDigits(t,t._periods[a],1),hnn:this._minDigits(t,t._periods[a],2),hnnn:this._minDigits(t,t._periods[a],3),h1:f(t._periods[a],1),h10:f(t._periods[a],10),h100:f(t._periods[a],100),h1000:f(t._periods[a],1e3),ml:m(l),mn:this._minDigits(t,t._periods[l],1),mnn:this._minDigits(t,t._periods[l],2),mnnn:this._minDigits(t,t._periods[l],3),m1:f(t._periods[l],1),m10:f(t._periods[l],10),m100:f(t._periods[l],100),m1000:f(t._periods[l],1e3),sl:m(_),sn:this._minDigits(t,t._periods[_],1),snn:this._minDigits(t,t._periods[_],2),snnn:this._minDigits(t,t._periods[_],3),s1:f(t._periods[_],1),s10:f(t._periods[_],10),s100:f(t._periods[_],100),s1000:f(t._periods[_],1e3)},w=u,v=i;_>=v;v++){var b="yowdhms".charAt(v),T=new RegExp("\\{"+b+"<\\}([\\s\\S]*)\\{"+b+">\\}","g");w=w.replace(T,!p&&s[v]||p&&d[v]?"$1":"")}return e.each(y,function(e,t){var s=new RegExp("\\{"+e+"\\}","g");w=w.replace(s,t)}),w},_minDigits:function(e,t,s){return t=""+t,t.length>=s?this._translateDigits(e,t):(t="0000000000"+t,this._translateDigits(e,t.substr(t.length-s)))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var t=e.options.format,s=[];return s[i]=t.match("y")?"?":t.match("Y")?"!":null,s[n]=t.match("o")?"?":t.match("O")?"!":null,s[o]=t.match("w")?"?":t.match("W")?"!":null,s[r]=t.match("d")?"?":t.match("D")?"!":null,s[a]=t.match("h")?"?":t.match("H")?"!":null,s[l]=t.match("m")?"?":t.match("M")?"!":null,s[_]=t.match("s")?"?":t.match("S")?"!":null,s},_calculatePeriods:function(e,t,s,u){e._now=u,e._now.setMilliseconds(0);var p=new Date(e._now.getTime());e._since?u.getTime()<e._since.getTime()?e._now=u=p:u=e._since:(p.setTime(e._until.getTime()),u.getTime()>e._until.getTime()&&(e._now=u=p));var d=[0,0,0,0,0,0,0];if(t[i]||t[n]){var h=c._getDaysInMonth(u.getFullYear(),u.getMonth()),g=c._getDaysInMonth(p.getFullYear(),p.getMonth()),m=p.getDate()==u.getDate()||p.getDate()>=Math.min(h,g)&&u.getDate()>=Math.min(h,g),f=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},y=Math.max(0,12*(p.getFullYear()-u.getFullYear())+p.getMonth()-u.getMonth()+(p.getDate()<u.getDate()&&!m||m&&f(p)<f(u)?-1:0));d[i]=t[i]?Math.floor(y/12):0,d[n]=t[n]?y-12*d[i]:0,u=new Date(u.getTime());var w=u.getDate()==h,v=c._getDaysInMonth(u.getFullYear()+d[i],u.getMonth()+d[n]);u.getDate()>v&&u.setDate(v),u.setFullYear(u.getFullYear()+d[i]),u.setMonth(u.getMonth()+d[n]),w&&u.setDate(v)}var b=Math.floor((p.getTime()-u.getTime())/1e3),T=function(e,s){d[e]=t[e]?Math.floor(b/s):0,b-=d[e]*s};if(T(o,604800),T(r,86400),T(a,3600),T(l,60),T(_,1),b>0&&!e._since)for(var D=[1,12,4.3482,7,24,60,60],C=_,S=1,M=_;M>=i;M--)t[M]&&(d[C]>=S&&(d[C]=0,b=1),b>0&&(d[M]++,b=0,C=M,S=1)),S*=D[M];if(s)for(var M=i;_>=M;M++)s&&d[M]?s--:s||(d[M]=0);return d}});var u=["getTimes"];e.fn.countdown=function(e){var t=Array.prototype.slice.call(arguments,1);return s(e,t)?c["_"+e+"Plugin"].apply(c,[this[0]].concat(t)):this.each(function(){if("string"==typeof e){if(!c["_"+e+"Plugin"])throw"Unknown command: "+e;c["_"+e+"Plugin"].apply(c,[this].concat(t))}else c._attachPlugin(this,e||{})})};var c=e.countdown=new t}(jQuery);